# Getting Started

This guide helps you integrate the TaskOn Embed SDK in 5 minutes.

## Step 1: Install

::: code-group

```bash [npm]
npm install @taskon/embed
```

```bash [yarn]
yarn add @taskon/embed
```

```bash [pnpm]
pnpm add @taskon/embed
```

:::

## Step 2: Prepare a container

Place a container element in your HTML:

```html
<div id="taskon-container" style="width: 100%; height: 100%;"></div>
```

## Step 3: Initialize the SDK

```typescript
import { TaskOnEmbed } from "@taskon/embed";

const embed = new TaskOnEmbed({
  clientId: "your-client-id",
  baseUrl: "https://yourtaskondomain.xyz",
  containerElement: "#taskon-container",
});

await embed.init();
```

## Step 4: User Authentication

### Email Login

```typescript
// Check if user is already logged in
const isLoggedIn = await embed.getIsLoggedIn("email", "user@example.com");

if (!isLoggedIn) {
  await embed.login({
    type: "email",
    value: "user@example.com",
    signature: serverSignature, // generated by your backend
  });
} else {
  await embed.login({
    type: "email",
    value: "user@example.com",
  });
}
```

### EVM Wallet Login

```typescript
const address = "0x1234...";
const isLoggedIn = await embed.getIsLoggedIn("evm", address);

if (!isLoggedIn) {
  await embed.login({
    type: "evm",
    value: address,
    signature: serverSignature, // generated by your backend
  });
} else {
  await embed.login({
    type: "evm",
    value: address,
  });
}
```

> Tip: When `embed.getIsLoggedIn()` returns true, you can omit `signature`.

## Event Listeners

After initialization, subscribe to key events via `embed.on(event, handler)`:

```typescript
embed.on("loginRequired", ({ type }) => {
  console.log("Login required for type:", type);
});

embed.on("taskCompleted", (task, taskOnUserId) => {
  console.log("Task completed:", task, "by user:", taskOnUserId);
});
```

## Complete Example (HTML)

```html
<!DOCTYPE html>
<html>
  <head>
    <title>TaskOn Embed Demo</title>
  </head>
  <body>
    <div id="taskon-container" style="width: 100%; height: 600px;"></div>

    <script type="module">
      import { TaskOnEmbed } from "@taskon/embed";

      const embed = new TaskOnEmbed({
        clientId: "your-client-id",
        baseUrl: "https://taskon.xyz",
        containerElement: "#taskon-container",
      });

      // Initialize the embed
      await embed.init();

      embed.on("loginRequired", async ({ type }) => {
        if (type === "email") {
          const email = "user@example.com";
          const isLoggedIn = await embed.getIsLoggedIn("email", email);

          if (!isLoggedIn) {
            const signature = await fetch("/api/auth/sign", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ value: email }),
            }).then(r => r.text());

            await embed.login({
              type: "email",
              value: email,
              signature,
            });
          } else {
            await embed.login({
              type: "email",
              value: email,
            });
          }
        }
      });

      embed.on("taskCompleted", (task, taskOnUserId) => {
        console.log("Task completed:", task, "by user:", taskOnUserId);
      });
    </script>
  </body>
</html>
```

## Get a Client ID

You need to create an app in the developer console and obtain `clientId`:

1. Visit [TaskOn Developer Console](https://taskon.xyz/developer)
2. Create an application
3. Copy the `clientId`

## Next Steps

- [Configuration Options](/guide/configuration)
- [Authentication Guide](/guide/authentication)
- [API Reference](/api/)

## Need Help?

- Check the FAQ or troubleshooting
- Open a ticket or a [GitHub Issue](https://github.com/taskon/embed-sdk/issues)
